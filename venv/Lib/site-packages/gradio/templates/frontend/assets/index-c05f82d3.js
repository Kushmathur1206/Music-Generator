import{S as Q,e as T,s as V,F as k,o as F,Q as U,G as v,h as E,w as h,r as H,u as b,v as J,k as I,H as S,a0 as X,a1 as Y,C as $,m as P,g as B,j as p,E as C,af as d,Z as x,ae as ee,V as te,W as le}from"./index-a959df42.js";import{B as ae,n as ne}from"./Button-fb0eed2f.js";import{B as se}from"./BlockLabel-5f053d92.js";import{I as oe}from"./IconButton-a920ab53.js";import{E as ie}from"./Empty-3abf203a.js";import{S as ue}from"./ShareButton-cdf33464.js";import{u as re}from"./utils-c3e3db58.js";import{D as _e}from"./Download-7d8a979b.js";import{M as W,A as fe}from"./Audio-54d4bec8.js";import"./file-url-43c83f6d.js";function z(n){let e,a,l,t=n[4]&&G(n),s=n[5]&&L(n);return{c(){e=P("div"),t&&t.c(),a=F(),s&&s.c(),B(e,"class","icon-buttons svelte-rvdo70")},m(i,o){E(i,e,o),t&&t.m(e,null),p(e,a),s&&s.m(e,null),l=!0},p(i,o){i[4]?t?(t.p(i,o),o&16&&h(t,1)):(t=G(i),t.c(),h(t,1),t.m(e,a)):t&&(H(),b(t,1,1,()=>{t=null}),J()),i[5]?s?(s.p(i,o),o&32&&h(s,1)):(s=L(i),s.c(),h(s,1),s.m(e,null)):s&&(H(),b(s,1,1,()=>{s=null}),J())},i(i){l||(h(t),h(s),l=!0)},o(i){b(t),b(s),l=!1},d(i){i&&I(e),t&&t.d(),s&&s.d()}}}function G(n){let e,a,l,t,s;return a=new oe({props:{Icon:_e,label:n[6]("common.download")}}),{c(){e=P("a"),k(a.$$.fragment),B(e,"href",l=n[0].data),B(e,"target",window.__is_colab__?"_blank":null),B(e,"download",t=n[0].name)},m(i,o){E(i,e,o),v(a,e,null),s=!0},p(i,o){const u={};o&64&&(u.label=i[6]("common.download")),a.$set(u),(!s||o&1&&l!==(l=i[0].data))&&B(e,"href",l),(!s||o&1&&t!==(t=i[0].name))&&B(e,"download",t)},i(i){s||(h(a.$$.fragment,i),s=!0)},o(i){b(a.$$.fragment,i),s=!1},d(i){i&&I(e),S(a)}}}function L(n){let e,a;return e=new ue({props:{formatter:n[9],value:n[0]}}),e.$on("error",n[10]),e.$on("share",n[11]),{c(){k(e.$$.fragment)},m(l,t){v(e,l,t),a=!0},p(l,t){const s={};t&1&&(s.value=l[0]),e.$set(s)},i(l){a||(h(e.$$.fragment,l),a=!0)},o(l){b(e.$$.fragment,l),a=!1},d(l){S(e,l)}}}function ce(n){let e,a,l;return a=new fe({props:{autoplay:n[3],controls:!0,preload:"metadata",src:n[0]?.data,"data-testid":`${n[1]}-audio`}}),a.$on("play",n[12]),a.$on("pause",n[13]),a.$on("ended",n[7]),{c(){e=P("div"),k(a.$$.fragment),B(e,"class","container")},m(t,s){E(t,e,s),v(a,e,null),l=!0},p(t,s){const i={};s&8&&(i.autoplay=t[3]),s&1&&(i.src=t[0]?.data),s&2&&(i["data-testid"]=`${t[1]}-audio`),a.$set(i)},i(t){l||(h(a.$$.fragment,t),l=!0)},o(t){b(a.$$.fragment,t),l=!1},d(t){t&&I(e),S(a)}}}function he(n){let e,a;return e=new ie({props:{size:"small",$$slots:{default:[me]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},m(l,t){v(e,l,t),a=!0},p(l,t){const s={};t&32768&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){a||(h(e.$$.fragment,l),a=!0)},o(l){b(e.$$.fragment,l),a=!1},d(l){S(e,l)}}}function me(n){let e,a;return e=new W({}),{c(){k(e.$$.fragment)},m(l,t){v(e,l,t),a=!0},i(l){a||(h(e.$$.fragment,l),a=!0)},o(l){b(e.$$.fragment,l),a=!1},d(l){S(e,l)}}}function de(n){let e,a,l,t,s,i,o;e=new se({props:{show_label:n[2],Icon:W,float:!1,label:n[1]||n[6]("audio.audio")}});let u=n[0]!==null&&z(n);const w=[he,ce],c=[];function g(_,m){return _[0]===null?0:1}return t=g(n),s=c[t]=w[t](n),{c(){k(e.$$.fragment),a=F(),u&&u.c(),l=F(),s.c(),i=U()},m(_,m){v(e,_,m),E(_,a,m),u&&u.m(_,m),E(_,l,m),c[t].m(_,m),E(_,i,m),o=!0},p(_,[m]){const y={};m&4&&(y.show_label=_[2]),m&66&&(y.label=_[1]||_[6]("audio.audio")),e.$set(y),_[0]!==null?u?(u.p(_,m),m&1&&h(u,1)):(u=z(_),u.c(),h(u,1),u.m(l.parentNode,l)):u&&(H(),b(u,1,1,()=>{u=null}),J());let A=t;t=g(_),t===A?c[t].p(_,m):(H(),b(c[A],1,1,()=>{c[A]=null}),J(),s=c[t],s?s.p(_,m):(s=c[t]=w[t](_),s.c()),h(s,1),s.m(i.parentNode,i))},i(_){o||(h(e.$$.fragment,_),h(u),h(s),o=!0)},o(_){b(e.$$.fragment,_),b(u),b(s),o=!1},d(_){_&&(I(a),I(l),I(i)),S(e,_),u&&u.d(_),c[t].d(_)}}}function be(n,e,a){let l;X(n,Y,f=>a(6,l=f));let{value:t=null}=e,{label:s}=e,{name:i}=e,{show_label:o=!0}=e,{autoplay:u}=e,{show_download_button:w=!0}=e,{show_share_button:c=!1}=e;const g=$();function _(){g("stop"),g("end")}const m=async f=>f?`<audio controls src="${await re(f.data,"url")}"></audio>`:"";function y(f){C.call(this,n,f)}function A(f){C.call(this,n,f)}function D(f){C.call(this,n,f)}function j(f){C.call(this,n,f)}return n.$$set=f=>{"value"in f&&a(0,t=f.value),"label"in f&&a(1,s=f.label),"name"in f&&a(8,i=f.name),"show_label"in f&&a(2,o=f.show_label),"autoplay"in f&&a(3,u=f.autoplay),"show_download_button"in f&&a(4,w=f.show_download_button),"show_share_button"in f&&a(5,c=f.show_share_button)},n.$$.update=()=>{n.$$.dirty&257&&t&&g("change",{name:i,data:t?.data})},[t,s,o,u,w,c,l,_,i,m,y,A,D,j]}class we extends Q{constructor(e){super(),T(this,e,be,de,V,{value:0,label:1,name:8,show_label:2,autoplay:3,show_download_button:4,show_share_button:5})}}function ge(n){let e,a,l,t;const s=[n[11]];let i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return e=new ee({props:i}),l=new we({props:{autoplay:n[12],show_label:n[7],show_download_button:n[13],show_share_button:n[14],value:n[16],name:n[16]?.name||"audio_file",label:n[6]}}),l.$on("share",n[21]),l.$on("error",n[22]),{c(){k(e.$$.fragment),a=F(),k(l.$$.fragment)},m(o,u){v(e,o,u),E(o,a,u),v(l,o,u),t=!0},p(o,u){const w=u&2048?te(s,[le(o[11])]):{};e.$set(w);const c={};u&4096&&(c.autoplay=o[12]),u&128&&(c.show_label=o[7]),u&8192&&(c.show_download_button=o[13]),u&16384&&(c.show_share_button=o[14]),u&65536&&(c.value=o[16]),u&65536&&(c.name=o[16]?.name||"audio_file"),u&64&&(c.label=o[6]),l.$set(c)},i(o){t||(h(e.$$.fragment,o),h(l.$$.fragment,o),t=!0)},o(o){b(e.$$.fragment,o),b(l.$$.fragment,o),t=!1},d(o){o&&I(a),S(e,o),S(l,o)}}}function ke(n){let e,a;return e=new ae({props:{variant:n[3]==="interactive"&&n[4]===null&&n[5]==="upload"?"dashed":"solid",border_mode:n[17]?"focus":"base",padding:!1,elem_id:n[0],elem_classes:n[1],visible:n[2],container:n[8],scale:n[9],min_width:n[10],$$slots:{default:[ge]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},m(l,t){v(e,l,t),a=!0},p(l,[t]){const s={};t&56&&(s.variant=l[3]==="interactive"&&l[4]===null&&l[5]==="upload"?"dashed":"solid"),t&1&&(s.elem_id=l[0]),t&2&&(s.elem_classes=l[1]),t&4&&(s.visible=l[2]),t&256&&(s.container=l[8]),t&512&&(s.scale=l[9]),t&1024&&(s.min_width=l[10]),t&8517824&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){a||(h(e.$$.fragment,l),a=!0)},o(l){b(e.$$.fragment,l),a=!1},d(l){S(e,l)}}}function ve(n,e,a){let{elem_id:l=""}=e,{elem_classes:t=[]}=e,{visible:s=!0}=e,{mode:i}=e,{value:o=null}=e,{source:u}=e,{label:w}=e,{root:c}=e,{show_label:g}=e,{root_url:_}=e,{container:m=!0}=e,{scale:y=null}=e,{min_width:A=void 0}=e,{loading_status:D}=e,{autoplay:j=!1}=e,{show_download_button:f=!0}=e,{show_share_button:M=!1}=e,{gradio:N}=e,O=null,q,Z;const K=r=>N.dispatch("share",r.detail),R=r=>N.dispatch("error",r.detail);return n.$$set=r=>{"elem_id"in r&&a(0,l=r.elem_id),"elem_classes"in r&&a(1,t=r.elem_classes),"visible"in r&&a(2,s=r.visible),"mode"in r&&a(3,i=r.mode),"value"in r&&a(4,o=r.value),"source"in r&&a(5,u=r.source),"label"in r&&a(6,w=r.label),"root"in r&&a(18,c=r.root),"show_label"in r&&a(7,g=r.show_label),"root_url"in r&&a(19,_=r.root_url),"container"in r&&a(8,m=r.container),"scale"in r&&a(9,y=r.scale),"min_width"in r&&a(10,A=r.min_width),"loading_status"in r&&a(11,D=r.loading_status),"autoplay"in r&&a(12,j=r.autoplay),"show_download_button"in r&&a(13,f=r.show_download_button),"show_share_button"in r&&a(14,M=r.show_share_button),"gradio"in r&&a(15,N=r.gradio)},n.$$.update=()=>{n.$$.dirty&786448&&a(16,q=ne(o,c,_)),n.$$.dirty&1081360&&JSON.stringify(o)!==JSON.stringify(O)&&(a(20,O=o),N.dispatch("change"))},[l,t,s,i,o,u,w,g,m,y,A,D,j,f,M,N,q,Z,c,_,O,K,R]}class Se extends Q{constructor(e){super(),T(this,e,ve,ke,V,{elem_id:0,elem_classes:1,visible:2,mode:3,value:4,source:5,label:6,root:18,show_label:7,root_url:19,container:8,scale:9,min_width:10,loading_status:11,autoplay:12,show_download_button:13,show_share_button:14,gradio:15})}get elem_id(){return this.$$.ctx[0]}set elem_id(e){this.$$set({elem_id:e}),d()}get elem_classes(){return this.$$.ctx[1]}set elem_classes(e){this.$$set({elem_classes:e}),d()}get visible(){return this.$$.ctx[2]}set visible(e){this.$$set({visible:e}),d()}get mode(){return this.$$.ctx[3]}set mode(e){this.$$set({mode:e}),d()}get value(){return this.$$.ctx[4]}set value(e){this.$$set({value:e}),d()}get source(){return this.$$.ctx[5]}set source(e){this.$$set({source:e}),d()}get label(){return this.$$.ctx[6]}set label(e){this.$$set({label:e}),d()}get root(){return this.$$.ctx[18]}set root(e){this.$$set({root:e}),d()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),d()}get root_url(){return this.$$.ctx[19]}set root_url(e){this.$$set({root_url:e}),d()}get container(){return this.$$.ctx[8]}set container(e){this.$$set({container:e}),d()}get scale(){return this.$$.ctx[9]}set scale(e){this.$$set({scale:e}),d()}get min_width(){return this.$$.ctx[10]}set min_width(e){this.$$set({min_width:e}),d()}get loading_status(){return this.$$.ctx[11]}set loading_status(e){this.$$set({loading_status:e}),d()}get autoplay(){return this.$$.ctx[12]}set autoplay(e){this.$$set({autoplay:e}),d()}get show_download_button(){return this.$$.ctx[13]}set show_download_button(e){this.$$set({show_download_button:e}),d()}get show_share_button(){return this.$$.ctx[14]}set show_share_button(e){this.$$set({show_share_button:e}),d()}get gradio(){return this.$$.ctx[15]}set gradio(e){this.$$set({gradio:e}),d()}}const He=Se;export{He as default};
//# sourceMappingURL=index-c05f82d3.js.map
